<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Attendance & Manpower Dashboard</title>

<style>
:root {
  --primary: #307c91;
  --secondary: #245e6f;
  --bg: #f4f8fa;
  --text: #1f2d33;
  --muted: #6b7c85;
  --success: #2e9f6e;
  --danger: #c94b4b;
  --warning: #d8a441;
  --info: #4b8cc9;
}

* {
  box-sizing: border-box;
  font-family: "Segoe UI", Roboto, Arial, sans-serif;
}

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.card {
  background: #fff;
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
}

.header-card {
  display: flex;
  gap: 16px;
  align-items: center;
}

.profile-pic {
  width: 72px;
  height: 72px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-size: 28px;
  font-weight: 600;
  flex-shrink: 0;
}

.info-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 6px;
}

.info-item {
  font-size: 14px;
}

.info-item span {
  color: var(--muted);
}

.badge {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 600;
}

.badge.present {
  background: rgba(46,159,110,0.15);
  color: var(--success);
}

.badge.absent {
  background: rgba(201,75,75,0.15);
  color: var(--danger);
}

.badge.idle {
  background: rgba(216,164,65,0.15);
  color: var(--warning);
}

.badge.handling {
  background: rgba(75,140,201,0.15);
  color: var(--info);
}

.badge.completed {
  background: rgba(46,159,110,0.15);
  color: var(--success);
}

.badge.inprogress {
  background: rgba(216,164,65,0.15);
  color: var(--warning);
}

.section {
  overflow: hidden;
}

.section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
}

.section-header h2 {
  font-size: 16px;
  margin: 0;
}

.chevron {
  transition: transform 0.3s ease;
}

.section.collapsed .chevron {
  transform: rotate(-90deg);
}

.section-content {
  margin-top: 12px;
  transition: max-height 0.35s ease, opacity 0.3s ease;
}

.section.collapsed .section-content {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
}

.table-wrapper {
  width: 100%;
  overflow-x: auto;
}

table {
  width: 100%;
  border-collapse: collapse;
  min-width: 600px;
}

th, td {
  padding: 10px 12px;
  text-align: left;
  font-size: 13px;
  border-bottom: 1px solid #e6eef2;
  white-space: nowrap;
}

th {
  color: var(--muted);
  font-weight: 600;
}

.empty-state {
  padding: 16px;
  text-align: center;
  font-size: 14px;
  color: var(--muted);
}

@media (min-width: 768px) {
  .info-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}
</style>
</head>

<body>
<div class="container">

  <!-- SECTION 1 -->
  <div class="card header-card">
    <div class="profile-pic">DH</div>
    <div class="info-grid">
      <div class="info-item"><span>Name:</span> John Anderson</div>
      <div class="info-item"><span>Employee ID:</span> DH-1023</div>
      <div class="info-item"><span>Department Code:</span> STR-MNT</div>
      <div class="info-item">
        <span>Attended Status:</span>
        <span class="badge present">Present</span>
      </div>
    </div>
  </div>

  <!-- SECTION 2 -->
  <div class="card section" id="attendanceSection">
    <div class="section-header">
      <h2>Our Manpower Attendance</h2>
      <div class="chevron">▼</div>
    </div>
    <div class="section-content">
      <div class="table-wrapper">
        <table id="attendanceTable">
          <thead>
            <tr>
              <th>Employee ID</th>
              <th>Clock In</th>
              <th>Job Handling Status</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="empty-state" id="attendanceEmpty" style="display:none;">
        No records available
      </div>
    </div>
  </div>

  <!-- SECTION 3 -->
  <div class="card section collapsed" id="logSection">
    <div class="section-header">
      <h2>Manpower Action Log</h2>
      <div class="chevron">▼</div>
    </div>
    <div class="section-content">
      <div class="table-wrapper">
        <table id="logTable">
          <thead>
            <tr>
              <th>Employee ID</th>
              <th>Work Order Handled</th>
              <th>Task Handled</th>
              <th>Time Performed</th>
              <th>Action</th>
              <th>Progression Status</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="empty-state" id="logEmpty" style="display:none;">
        No records available
      </div>
    </div>
  </div>

</div>

<script>
const attendanceData = [
  { employeeId: "EMP-2101", clockIn: "07:45", status: "Idle" },
  { employeeId: "EMP-2102", clockIn: "07:52", status: "Handling Job" },
  { employeeId: "EMP-2103", clockIn: "08:05", status: "Idle" }
];

const actionLogData = [
  {
    employeeId: "EMP-2102",
    workOrder: "WO-88921",
    task: "Panel Inspection",
    time: "09:15",
    action: "Inspection Started",
    progression: "In Progress"
  },
  {
    employeeId: "EMP-2102",
    workOrder: "WO-88921",
    task: "Panel Inspection",
    time: "10:40",
    action: "Inspection Completed",
    progression: "Completed"
  }
];

function renderAttendance() {
  const tbody = document.querySelector("#attendanceTable tbody");
  const empty = document.getElementById("attendanceEmpty");
  tbody.innerHTML = "";

  if (attendanceData.length === 0) {
    empty.style.display = "block";
    return;
  }

  empty.style.display = "none";

  attendanceData.forEach(row => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${row.employeeId}</td>
      <td>${row.clockIn}</td>
      <td>
        <span class="badge ${row.status === "Idle" ? "idle" : "handling"}">
          ${row.status}
        </span>
      </td>
    `;
    tbody.appendChild(tr);
  });
}

function renderLog() {
  const tbody = document.querySelector("#logTable tbody");
  const empty = document.getElementById("logEmpty");
  tbody.innerHTML = "";

  if (actionLogData.length === 0) {
    empty.style.display = "block";
    return;
  }

  empty.style.display = "none";

  actionLogData.forEach(row => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${row.employeeId}</td>
      <td>${row.workOrder}</td>
      <td>${row.task}</td>
      <td>${row.time}</td>
      <td>${row.action}</td>
      <td>
        <span class="badge ${row.progression === "Completed" ? "completed" : "inprogress"}">
          ${row.progression}
        </span>
      </td>
    `;
    tbody.appendChild(tr);
  });
}

function setupCollapse(sectionId) {
  const section = document.getElementById(sectionId);
  const header = section.querySelector(".section-header");

  header.addEventListener("click", () => {
    section.classList.toggle("collapsed");
  });
}

renderAttendance();
renderLog();
setupCollapse("attendanceSection");
setupCollapse("logSection");
</script>
</body>
</html>
